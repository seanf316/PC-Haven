{% extends "base.html" %}
{% load static %}

{% block page_header %}
<div class="container header-container">
    <div class="row">
        <div class="col-12"></div>
    </div>
</div>
{% endblock %}

{% block content %}
<section class="blogs">
    <div class="container">
        <div class="row">
            <div class="col-12 col-md-10 mx-auto">
                <hr>
                <h1 class="text-green text-center">PC HAVEN Blog</h1>
                <hr>
            </div>
            <div class="col-12 mx-auto">
                <div>
                    <p class="text-center">Welcome to PC HAVEN Blog, your go-to source for all things PC-related on our
                        PC HAVEN site.</p>
                    <p>
                        Here, we offer insightful articles, expert tips, and the latest industry trends to fuel your
                        technological ambitions. Discover in-depth reviews, expert guides, and stay up to date with the
                        newest
                        releases and advancements in the PC world. Join our community and unlock the true potential of
                        your PC at
                        PC HAVEN Blog.</p>
                </div>
            </div>
        </div>

        <div class="row">
            {% if blogs %}
            {% for blog in blogs %}
            <div class="col-12 col-md-6 col-lg-4 mb-4 d-flex">
                <div class="card border-green-light flex-fill">
                    {% if blog.image %}
                    <img src="{{ blog.image.url }}" class="card-img-top" alt="...">
                    {% else %}
                    <img src="https://pc-haven.s3.eu-north-1.amazonaws.com/media/blog/blog.webp" class="card-img-top"
                        alt="...">
                    {% endif %}
                    <div class="bg-green text-white font-weight-bold text-center">
                        <p class="p-2 mb-0">Author: {{ blog.author }}</p>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title text-green font-weight-bold">{{ blog.title }}</h5>
                        <p class="card-text font-italic">{{ blog.content|striptags|slice:':150'}}.....</p>
                        <div class="mt-auto d-flex">
                            <a href="{% url 'blog_detail' blog.id %}" class="btn cta text-uppercase flex-grow-1">View
                                Blog</a>
                        </div>
                    </div>
                    {% if request.user.is_superuser %}
                    <div class="row">
                        <div class="col-12">
                            <hr class="my-0">
                            <div class="text-center">
                                <a href="{% url 'edit_blog' blog.id %}" class="text-green btn text-sm">Manage
                                    Blog
                                    <i class="fa-solid fa-sm fa-pencil"></i></a>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
            {% else %}
            <div class="col-12">
                <p>Sorry there are no blog posts currently please check back later.</p>
            </div>
            {% endif %}
        </div>

    </div>
</section>
{% endblock %}